!function(a){"use strict";function b(){}function c(a){if(!a||"object"!=typeof a)return!1;var b=y(a)||qa;return/object|function/.test(typeof b.Element)?a instanceof b.Element:1===a.nodeType&&"string"==typeof a.nodeName}function d(a){return a===qa||!(!a||!a.Window)&&a instanceof a.Window}function e(a){return!!a&&a instanceof sa}function f(a){return g(a)&&void 0!==typeof a.length&&h(a.splice)}function g(a){return!!a&&"object"==typeof a}function h(a){return"function"==typeof a}function i(a){return"number"==typeof a}function j(a){return"boolean"==typeof a}function k(a){return"string"==typeof a}function l(a){return!!k(a)&&(ra.querySelector(a),!0)}function m(a,b){for(var c in b)a[c]=b[c];return a}function n(a,b){for(var c in b){var d=!1;for(var e in Ya)if(0===c.indexOf(e)&&Ya[e].test(c)){d=!0;break}d||(a[c]=b[c])}return a}function o(a,b){a.page=a.page||{},a.page.x=b.page.x,a.page.y=b.page.y,a.client=a.client||{},a.client.x=b.client.x,a.client.y=b.client.y,a.timeStamp=b.timeStamp}function p(a,b,c){var d=b.length>1?C(b):b[0];t(d,za,c),a.page.x=za.x,a.page.y=za.y,u(d,za,c),a.client.x=za.x,a.client.y=za.y,a.timeStamp=(new Date).getTime()}function q(a,b,c){a.page.x=c.page.x-b.page.x,a.page.y=c.page.y-b.page.y,a.client.x=c.client.x-b.client.x,a.client.y=c.client.y-b.client.y,a.timeStamp=(new Date).getTime()-b.timeStamp;var d=Math.max(a.timeStamp/1e3,.001);a.page.speed=ya(a.page.x,a.page.y)/d,a.page.vx=a.page.x/d,a.page.vy=a.page.y/d,a.client.speed=ya(a.client.x,a.page.y)/d,a.client.vx=a.client.x/d,a.client.vy=a.client.y/d}function r(a){return a instanceof qa.Event||Ha&&qa.Touch&&a instanceof qa.Touch}function s(a,b,c){return c=c||{},a=a||"page",c.x=b[a+"X"],c.y=b[a+"Y"],c}function t(a,b){return b=b||{},Sa&&r(a)?(s("screen",a,b),b.x+=qa.scrollX,b.y+=qa.scrollY):s("page",a,b),b}function u(a,b){return b=b||{},Sa&&r(a)?s("screen",a,b):s("client",a,b),b}function v(a){return a=a||qa,{x:a.scrollX||a.document.documentElement.scrollLeft,y:a.scrollY||a.document.documentElement.scrollTop}}function w(a){return i(a.pointerId)?a.pointerId:a.identifier}function x(a){return a instanceof va?a.correspondingUseElement:a}function y(a){if(d(a))return a;var b=a.ownerDocument||a;return b.defaultView||b.parentWindow||qa}function z(a){var b=a instanceof ta?a.getBoundingClientRect():a.getClientRects()[0];return b&&{left:b.left,right:b.right,top:b.top,bottom:b.bottom,width:b.width||b.right-b.left,height:b.height||b.bottom-b.top}}function A(a){var b=z(a);if(!Ta&&b){var c=v(y(a));b.left+=c.x,b.right+=c.x,b.top+=c.y,b.bottom+=c.y}return b}function B(a){var b=[];return f(a)?(b[0]=a[0],b[1]=a[1]):"touchend"===a.type?1===a.touches.length?(b[0]=a.touches[0],b[1]=a.changedTouches[0]):0===a.touches.length&&(b[0]=a.changedTouches[0],b[1]=a.changedTouches[1]):(b[0]=a.touches[0],b[1]=a.touches[1]),b}function C(a){for(var b,c={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},d=0;d<a.length;d++)for(b in c)c[b]+=a[d][b];for(b in c)c[b]/=a.length;return c}function D(a){if(a.length||a.touches&&a.touches.length>1){var b=B(a),c=Math.min(b[0].pageX,b[1].pageX),d=Math.min(b[0].pageY,b[1].pageY),e=Math.max(b[0].pageX,b[1].pageX),f=Math.max(b[0].pageY,b[1].pageY);return{x:c,y:d,left:c,top:d,width:e-c,height:f-d}}}function E(a,b){b=b||Fa.deltaSource;var c=b+"X",d=b+"Y",e=B(a),f=e[0][c]-e[1][c],g=e[0][d]-e[1][d];return ya(f,g)}function F(a,b,c){c=c||Fa.deltaSource;var d=c+"X",e=c+"Y",f=B(a),g=f[0][d]-f[1][d],h=f[0][e]-f[1][e],j=180*Math.atan(h/g)/Math.PI;if(i(b)){var k=j-b,l=k%360;l>315?j-=360+j/360|0:l>135?j-=180+j/360|0:l<-315?j+=360+j/360|0:l<-135&&(j+=180+j/360|0)}return j}function G(a,b){var d=a?a.options.origin:Fa.origin;return"parent"===d?d=M(b):"self"===d?d=a.getRect(b):l(d)&&(d=L(b,d)||{x:0,y:0}),h(d)&&(d=d(a&&b)),c(d)&&(d=A(d)),d.x="x"in d?d.x:d.left,d.y="y"in d?d.y:d.top,d}function H(a,b,c,d){var e=1-a;return e*e*b+2*e*a*c+a*a*d}function I(a,b,c,d,e,f,g){return{x:H(g,a,c,e),y:H(g,b,d,f)}}function J(a,b,c,d){return a/=d,-c*a*(a-2)+b}function K(a,b){for(;b;){if(b===a)return!0;b=b.parentNode}return!1}function L(a,b){for(var d=M(a);c(d);){if(ma(d,b))return d;d=M(d)}return null}function M(a){var b=a.parentNode;if(e(b)){for(;(b=b.host)&&e(b););return b}return b}function N(a,b){return a._context===b.ownerDocument||K(a._context,b)}function O(a,b,d){var e=a.options.ignoreFrom;return!(!e||!c(d))&&(k(e)?na(d,e,b):!!c(e)&&K(e,d))}function P(a,b,d){var e=a.options.allowFrom;return!e||!!c(d)&&(k(e)?na(d,e,b):!!c(e)&&K(e,d))}function Q(a,b){if(!b)return!1;var c=b.options.drag.axis;return"xy"===a||"xy"===c||c===a}function R(a,b){var c=a.options;return/^resize/.test(b)&&(b="resize"),c[b].snap&&c[b].snap.enabled}function S(a,b){var c=a.options;return/^resize/.test(b)&&(b="resize"),c[b].restrict&&c[b].restrict.enabled}function T(a,b){var c=a.options;return/^resize/.test(b)&&(b="resize"),c[b].autoScroll&&c[b].autoScroll.enabled}function U(a,b,c){for(var d=a.options,e=d[c.name].max,f=d[c.name].maxPerElement,g=0,h=0,i=0,j=0,k=Ca.length;j<k;j++){var l=Ca[j],m=l.prepared.name,n=l.interacting();if(n){if(g++,g>=Ma)return!1;if(l.target===a){if(h+=m===c.name|0,h>=e)return!1;if(l.element===b&&(i++,m!==c.name||i>=f))return!1}}}return Ma>0}function V(a){var b,c,d,e,f,g=a[0],h=g?0:-1,i=[],j=[];for(e=1;e<a.length;e++)if(b=a[e],b&&b!==g)if(g){if(b.parentNode!==b.ownerDocument)if(g.parentNode!==b.ownerDocument){if(!i.length)for(c=g;c.parentNode&&c.parentNode!==c.ownerDocument;)i.unshift(c),c=c.parentNode;if(g instanceof wa&&b instanceof ta&&!(b instanceof ua)){if(b===g.parentNode)continue;c=b.ownerSVGElement}else c=b;for(j=[];c.parentNode!==c.ownerDocument;)j.unshift(c),c=c.parentNode;for(f=0;j[f]&&j[f]===i[f];)f++;var k=[j[f-1],j[f],i[f]];for(d=k[0].lastChild;d;){if(d===k[1]){g=b,h=e,i=[];break}if(d===k[2])break;d=d.previousSibling}}else g=b,h=e}else g=b,h=e;return h}function W(){if(this.target=null,this.element=null,this.dropTarget=null,this.dropElement=null,this.prevDropTarget=null,this.prevDropElement=null,this.prepared={name:null,axis:null,edges:null},this.matches=[],this.matchElements=[],this.inertiaStatus={active:!1,smoothEnd:!1,ending:!1,startEvent:null,upCoords:{},xe:0,ye:0,sx:0,sy:0,t0:0,vx0:0,vys:0,duration:0,resumeDx:0,resumeDy:0,lambda_v0:0,one_ve_v0:0,i:null},h(Function.prototype.bind))this.boundInertiaFrame=this.inertiaFrame.bind(this),this.boundSmoothEndFrame=this.smoothEndFrame.bind(this);else{var a=this;this.boundInertiaFrame=function(){return a.inertiaFrame()},this.boundSmoothEndFrame=function(){return a.smoothEndFrame()}}this.activeDrops={dropzones:[],elements:[],rects:[]},this.pointers=[],this.pointerIds=[],this.downTargets=[],this.downTimes=[],this.holdTimers=[],this.prevCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.curCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.startCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.pointerDelta={page:{x:0,y:0,vx:0,vy:0,speed:0},client:{x:0,y:0,vx:0,vy:0,speed:0},timeStamp:0},this.downEvent=null,this.downPointer={},this._eventTarget=null,this._curEventTarget=null,this.prevEvent=null,this.tapTime=0,this.prevTap=null,this.startOffset={left:0,right:0,top:0,bottom:0},this.restrictOffset={left:0,right:0,top:0,bottom:0},this.snapOffsets=[],this.gesture={start:{x:0,y:0},startDistance:0,prevDistance:0,distance:0,scale:1,startAngle:0,prevAngle:0},this.snapStatus={x:0,y:0,dx:0,dy:0,realX:0,realY:0,snappedX:0,snappedY:0,targets:[],locked:!1,changed:!1},this.restrictStatus={dx:0,dy:0,restrictedX:0,restrictedY:0,snap:null,restricted:!1,changed:!1},this.restrictStatus.snap=this.snapStatus,this.pointerIsDown=!1,this.pointerWasMoved=!1,this.gesturing=!1,this.dragging=!1,this.resizing=!1,this.resizeAxes="xy",this.mouse=!1,Ca.push(this)}function X(a,b,c){var d,e=0,f=Ca.length,g=/mouse/i.test(a.pointerType||b)||4===a.pointerType,h=w(a);if(/down|start/i.test(b))for(e=0;e<f;e++){d=Ca[e];var i=c;if(d.inertiaStatus.active&&d.target.options[d.prepared.name].inertia.allowResume&&d.mouse===g)for(;i;){if(i===d.element)return d;i=M(i)}}if(g||!Ha&&!Ia){for(e=0;e<f;e++)if(Ca[e].mouse&&!Ca[e].inertiaStatus.active)return Ca[e];for(e=0;e<f;e++)if(Ca[e].mouse&&(!/down/.test(b)||!Ca[e].inertiaStatus.active))return d;return d=new W,d.mouse=!0,d}for(e=0;e<f;e++)if(la(Ca[e].pointerIds,h))return Ca[e];if(/up|end|out/i.test(b))return null;for(e=0;e<f;e++)if(d=Ca[e],(!d.prepared.name||d.target.options.gesture.enabled)&&!d.interacting()&&(g||!d.mouse))return d;return new W}function Y(a){return function(b){var c,d,e=x(b.path?b.path[0]:b.target),f=x(b.currentTarget);if(Ha&&/touch/.test(b.type))for(La=(new Date).getTime(),d=0;d<b.changedTouches.length;d++){var g=b.changedTouches[d];c=X(g,b.type,e),c&&(c._updateEventTargets(e,f),c[a](g,b,e,f))}else{if(!Ia&&/mouse/.test(b.type)){for(d=0;d<Ca.length;d++)if(!Ca[d].mouse&&Ca[d].pointerIsDown)return;if((new Date).getTime()-La<500)return}if(c=X(b,b.type,e),!c)return;c._updateEventTargets(e,f),c[a](b,b,e,f)}}}function Z(a,b,c,d,e,f){var g,h,i=a.target,j=a.snapStatus,k=a.restrictStatus,l=a.pointers,n=(i&&i.options||Fa).deltaSource,o=n+"X",p=n+"Y",q=i?i.options:Fa,r=G(i,e),s="start"===d,t="end"===d,u=s?a.startCoords:a.curCoords;e=e||a.element,h=m({},u.page),g=m({},u.client),h.x-=r.x,h.y-=r.y,g.x-=r.x,g.y-=r.y;var v=q[c].snap&&q[c].snap.relativePoints;!R(i,c)||s&&v&&v.length||(this.snap={range:j.range,locked:j.locked,x:j.snappedX,y:j.snappedY,realX:j.realX,realY:j.realY,dx:j.dx,dy:j.dy},j.locked&&(h.x+=j.dx,h.y+=j.dy,g.x+=j.dx,g.y+=j.dy)),!S(i,c)||s&&q[c].restrict.elementRect||!k.restricted||(h.x+=k.dx,h.y+=k.dy,g.x+=k.dx,g.y+=k.dy,this.restrict={dx:k.dx,dy:k.dy}),this.pageX=h.x,this.pageY=h.y,this.clientX=g.x,this.clientY=g.y,this.x0=a.startCoords.page.x-r.x,this.y0=a.startCoords.page.y-r.y,this.clientX0=a.startCoords.client.x-r.x,this.clientY0=a.startCoords.client.y-r.y,this.ctrlKey=b.ctrlKey,this.altKey=b.altKey,this.shiftKey=b.shiftKey,this.metaKey=b.metaKey,this.button=b.button,this.buttons=b.buttons,this.target=e,this.t0=a.downTimes[0],this.type=c+(d||""),this.interaction=a,this.interactable=i;var w=a.inertiaStatus;if(w.active&&(this.detail="inertia"),f&&(this.relatedTarget=f),t?"client"===n?(this.dx=g.x-a.startCoords.client.x,this.dy=g.y-a.startCoords.client.y):(this.dx=h.x-a.startCoords.page.x,this.dy=h.y-a.startCoords.page.y):s?(this.dx=0,this.dy=0):"inertiastart"===d?(this.dx=a.prevEvent.dx,this.dy=a.prevEvent.dy):"client"===n?(this.dx=g.x-a.prevEvent.clientX,this.dy=g.y-a.prevEvent.clientY):(this.dx=h.x-a.prevEvent.pageX,this.dy=h.y-a.prevEvent.pageY),a.prevEvent&&"inertia"===a.prevEvent.detail&&!w.active&&q[c].inertia&&q[c].inertia.zeroResumeDelta&&(w.resumeDx+=this.dx,w.resumeDy+=this.dy,this.dx=this.dy=0),"resize"===c&&a.resizeAxes?q.resize.square?("y"===a.resizeAxes?this.dx=this.dy:this.dy=this.dx,this.axes="xy"):(this.axes=a.resizeAxes,"x"===a.resizeAxes?this.dy=0:"y"===a.resizeAxes&&(this.dx=0)):"gesture"===c&&(this.touches=[l[0],l[1]],s?(this.distance=E(l,n),this.box=D(l),this.scale=1,this.ds=0,this.angle=F(l,void 0,n),this.da=0):t||b instanceof Z?(this.distance=a.prevEvent.distance,this.box=a.prevEvent.box,this.scale=a.prevEvent.scale,this.ds=this.scale-1,this.angle=a.prevEvent.angle,this.da=this.angle-a.gesture.startAngle):(this.distance=E(l,n),this.box=D(l),this.scale=this.distance/a.gesture.startDistance,this.angle=F(l,a.gesture.prevAngle,n),this.ds=this.scale-a.gesture.prevScale,this.da=this.angle-a.gesture.prevAngle)),s)this.timeStamp=a.downTimes[0],this.dt=0,this.duration=0,this.speed=0,this.velocityX=0,this.velocityY=0;else if("inertiastart"===d)this.timeStamp=a.prevEvent.timeStamp,this.dt=a.prevEvent.dt,this.duration=a.prevEvent.duration,this.speed=a.prevEvent.speed,this.velocityX=a.prevEvent.velocityX,this.velocityY=a.prevEvent.velocityY;else if(this.timeStamp=(new Date).getTime(),this.dt=this.timeStamp-a.prevEvent.timeStamp,this.duration=this.timeStamp-a.downTimes[0],b instanceof Z){var x=this[o]-a.prevEvent[o],y=this[p]-a.prevEvent[p],z=this.dt/1e3;this.speed=ya(x,y)/z,this.velocityX=x/z,this.velocityY=y/z}else this.speed=a.pointerDelta[n].speed,this.velocityX=a.pointerDelta[n].vx,this.velocityY=a.pointerDelta[n].vy;if((t||"inertiastart"===d)&&a.prevEvent.speed>600&&this.timeStamp-a.prevEvent.timeStamp<150){var A=180*Math.atan2(a.prevEvent.velocityY,a.prevEvent.velocityX)/Math.PI,B=22.5;A<0&&(A+=360);var C=135-B<=A&&A<225+B,H=225-B<=A&&A<315+B,I=!C&&(315-B<=A||A<45+B),J=!H&&45-B<=A&&A<135+B;this.swipe={up:H,down:J,left:C,right:I,angle:A,speed:a.prevEvent.speed,velocity:{x:a.prevEvent.velocityX,y:a.prevEvent.velocityY}}}}function $(){this.originalEvent.preventDefault()}function _(a){var b="";if("drag"===a.name&&(b=Na.drag),"resize"===a.name)if(a.axis)b=Na[a.name+a.axis];else if(a.edges){for(var c="resize",d=["top","bottom","left","right"],e=0;e<4;e++)a.edges[d[e]]&&(c+=d[e]);b=Na[c]}return b}function aa(a,b,d,e,f,g,h){if(!b)return!1;if(b===!0){var j=i(g.width)?g.width:g.right-g.left,k=i(g.height)?g.height:g.bottom-g.top;if(j<0&&("left"===a?a="right":"right"===a&&(a="left")),k<0&&("top"===a?a="bottom":"bottom"===a&&(a="top")),"left"===a)return d.x<(j>=0?g.left:g.right)+h;if("top"===a)return d.y<(k>=0?g.top:g.bottom)+h;if("right"===a)return d.x>(j>=0?g.right:g.left)-h;if("bottom"===a)return d.y>(k>=0?g.bottom:g.top)-h}return!!c(e)&&(c(b)?b===e:na(e,b,f))}function ba(a,b,c){var d,e=this.getRect(c),f=!1,h=null,i=null,j=m({},b.curCoords.page),k=this.options;if(!e)return null;if(Oa.resize&&k.resize.enabled){var l=k.resize;if(d={left:!1,right:!1,top:!1,bottom:!1},g(l.edges)){for(var n in d)d[n]=aa(n,l.edges[n],j,b._eventTarget,c,e,l.margin||Ja);d.left=d.left&&!d.right,d.top=d.top&&!d.bottom,f=d.left||d.right||d.top||d.bottom}else{var o="y"!==k.resize.axis&&j.x>e.right-Ja,p="x"!==k.resize.axis&&j.y>e.bottom-Ja;f=o||p,i=(o?"x":"")+(p?"y":"")}}return h=f?"resize":Oa.drag&&k.drag.enabled?"drag":null,Oa.gesture&&b.pointerIds.length>=2&&!b.dragging&&!b.resizing&&(h="gesture"),h?{name:h,axis:i,edges:d}:null}function ca(a,b){if(!g(a))return null;var c=a.name,d=b.options;return("resize"===c&&d.resize.enabled||"drag"===c&&d.drag.enabled||"gesture"===c&&d.gesture.enabled)&&Oa[c]?("resize"!==c&&"resizeyx"!==c||(c="resizexy"),a):null}function da(a,b){var d={},e=Ea[a.type],f=x(a.path?a.path[0]:a.target),g=f;b=!!b;for(var h in a)d[h]=a[h];for(d.originalEvent=a,d.preventDefault=$;c(g);){for(var i=0;i<e.selectors.length;i++){var j=e.selectors[i],k=e.contexts[i];if(ma(g,j)&&K(k,f)&&K(k,g)){var l=e.listeners[i];d.currentTarget=g;for(var m=0;m<l.length;m++)l[m][1]===b&&l[m][0](d)}}g=M(g)}}function ea(a){return da.call(this,a,!0)}function fa(a,b){return Ba.get(a,b)||new ga(a,b)}function ga(a,b){this._element=a,this._iEvents=this._iEvents||{};var d;if(l(a)){this.selector=a;var e=b&&b.context;d=e?y(e):qa,e&&(d.Node?e instanceof d.Node:c(e)||e===d.document)&&(this._context=e)}else d=y(a),c(a,d)&&(Ia?(Xa.add(this._element,oa.down,Za.pointerDown),Xa.add(this._element,oa.move,Za.pointerHover)):(Xa.add(this._element,"mousedown",Za.pointerDown),Xa.add(this._element,"mousemove",Za.pointerHover),Xa.add(this._element,"touchstart",Za.pointerDown),Xa.add(this._element,"touchmove",Za.pointerHover)));this._doc=d.document,la(Aa,this._doc)||ja(this._doc),Ba.push(this),this.set(b)}function ha(a,b){var c=!1;return function(){return c||(qa.console.warn(b),c=!0),a.apply(this,arguments)}}function ia(a){for(var b=0;b<Ca.length;b++)Ca[b].pointerEnd(a,a)}function ja(a){if(!la(Aa,a)){var b=a.defaultView||a.parentWindow;for(var c in Ea)Xa.add(a,c,da),Xa.add(a,c,ea,!0);Ia?(oa=xa===b.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"},Xa.add(a,oa.down,Za.selectorDown),Xa.add(a,oa.move,Za.pointerMove),Xa.add(a,oa.over,Za.pointerOver),Xa.add(a,oa.out,Za.pointerOut),Xa.add(a,oa.up,Za.pointerUp),Xa.add(a,oa.cancel,Za.pointerCancel),Xa.add(a,oa.move,Za.autoScrollMove)):(Xa.add(a,"mousedown",Za.selectorDown),Xa.add(a,"mousemove",Za.pointerMove),Xa.add(a,"mouseup",Za.pointerUp),Xa.add(a,"mouseover",Za.pointerOver),Xa.add(a,"mouseout",Za.pointerOut),Xa.add(a,"touchstart",Za.selectorDown),Xa.add(a,"touchmove",Za.pointerMove),Xa.add(a,"touchend",Za.pointerUp),Xa.add(a,"touchcancel",Za.pointerCancel),Xa.add(a,"mousemove",Za.autoScrollMove),Xa.add(a,"touchmove",Za.autoScrollMove)),Xa.add(b,"blur",ia);try{if(b.frameElement){var d=b.frameElement.ownerDocument,e=d.defaultView;Xa.add(d,"mouseup",Za.pointerEnd),Xa.add(d,"touchend",Za.pointerEnd),Xa.add(d,"touchcancel",Za.pointerEnd),Xa.add(d,"pointerup",Za.pointerEnd),Xa.add(d,"MSPointerUp",Za.pointerEnd),Xa.add(e,"blur",ia)}}catch(f){fa.windowParentError=f}Xa.add(a,"dragstart",function(a){for(var b=0;b<Ca.length;b++){var c=Ca[b];if(c.element&&(c.element===a.target||K(c.element,a.target)))return void c.checkAndPreventDefault(a,c.target,c.element)}}),Xa.useAttachEvent&&(Xa.add(a,"selectstart",function(a){var b=Ca[0];b.currentAction()&&b.checkAndPreventDefault(a)}),Xa.add(a,"dblclick",Y("ie8Dblclick"))),Aa.push(a)}}function ka(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1}function la(a,b){return ka(a,b)!==-1}function ma(b,c,d){return pa?pa(b,c,d):(qa!==a&&(c=c.replace(/\/deep\//g," ")),b[Ua](c))}function na(a,b,d){for(;c(a);){if(ma(a,b))return!0;if(a=M(a),a===d)return ma(a,b)}return!1}if(a){var oa,pa,qa=function(){var b=a.document.createTextNode("");return b.ownerDocument!==a.document&&"function"==typeof a.wrap&&a.wrap(b)===b?a.wrap(a):a}(),ra=qa.document,sa=qa.DocumentFragment||b,ta=qa.SVGElement||b,ua=qa.SVGSVGElement||b,va=qa.SVGElementInstance||b,wa=qa.HTMLElement||qa.Element,xa=qa.PointerEvent||qa.MSPointerEvent,ya=Math.hypot||function(a,b){return Math.sqrt(a*a+b*b)},za={},Aa=[],Ba=[],Ca=[],Da=!1,Ea={},Fa={base:{accept:null,actionChecker:null,styleCursor:!0,preventDefault:"auto",origin:{x:0,y:0},deltaSource:"page",allowFrom:null,ignoreFrom:null,_context:ra,dropChecker:null},drag:{enabled:!1,manualStart:!0,max:1/0,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,axis:"xy"},drop:{enabled:!1,accept:null,overlap:"pointer"},resize:{enabled:!1,manualStart:!1,max:1/0,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},gesture:{manualStart:!1,enabled:!1,max:1/0,maxPerElement:1,restrict:null},perAction:{manualStart:!1,max:1/0,maxPerElement:1,snap:{enabled:!1,endOnly:!1,range:1/0,targets:null,offsets:null,relativePoints:null},restrict:{enabled:!1,endOnly:!1},autoScroll:{enabled:!1,container:null,margin:60,speed:300},inertia:{enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,zeroResumeDelta:!0,smoothEndDuration:300}},_holdDuration:600},Ga={interaction:null,i:null,x:0,y:0,scroll:function(){var a,b,c,e,f=Ga.interaction.target.options[Ga.interaction.prepared.name].autoScroll,g=f.container||y(Ga.interaction.element),h=(new Date).getTime(),i=(h-Ga.prevTimeX)/1e3,j=(h-Ga.prevTimeY)/1e3;f.velocity?(a=f.velocity.x,b=f.velocity.y):a=b=f.speed,c=a*i,e=b*j,(c>=1||e>=1)&&(d(g)?g.scrollBy(Ga.x*c,Ga.y*e):g&&(g.scrollLeft+=Ga.x*c,g.scrollTop+=Ga.y*e),c>=1&&(Ga.prevTimeX=h),e>=1&&(Ga.prevTimeY=h)),Ga.isScrolling&&(Wa(Ga.i),Ga.i=Va(Ga.scroll))},isScrolling:!1,prevTimeX:0,prevTimeY:0,start:function(a){Ga.isScrolling=!0,Wa(Ga.i),Ga.interaction=a,Ga.prevTimeX=(new Date).getTime(),Ga.prevTimeY=(new Date).getTime(),Ga.i=Va(Ga.scroll)},stop:function(){Ga.isScrolling=!1,Wa(Ga.i)}},Ha="ontouchstart"in qa||qa.DocumentTouch&&ra instanceof qa.DocumentTouch,Ia=xa&&!/Chrome/.test(navigator.userAgent),Ja=Ha||Ia?20:10,Ka=1,La=0,Ma=1/0,Na=ra.all&&!qa.atob?{drag:"move",resizex:"e-resize",resizey:"s-resize",resizexy:"se-resize",resizetop:"n-resize",resizeleft:"w-resize",resizebottom:"s-resize",resizeright:"e-resize",resizetopleft:"se-resize",resizebottomright:"se-resize",resizetopright:"ne-resize",resizebottomleft:"ne-resize",gesture:""}:{drag:"move",resizex:"ew-resize",resizey:"ns-resize",resizexy:"nwse-resize",resizetop:"ns-resize",resizeleft:"ew-resize",resizebottom:"ns-resize",resizeright:"ew-resize",resizetopleft:"nwse-resize",resizebottomright:"nwse-resize",resizetopright:"nesw-resize",resizebottomleft:"nesw-resize",gesture:""},Oa={drag:!0,resize:!0,gesture:!0},Pa="onmousewheel"in ra?"mousewheel":"wheel",Qa=["dragstart","dragmove","draginertiastart","dragend","dragenter","dragleave","dropactivate","dropdeactivate","dropmove","drop","resizestart","resizemove","resizeinertiastart","resizeend","gesturestart","gesturemove","gestureinertiastart","gestureend","down","move","up","cancel","tap","doubletap","hold"],Ra={},Sa="Opera"==navigator.appName&&Ha&&navigator.userAgent.match("Presto"),Ta=/iP(hone|od|ad)/.test(navigator.platform)&&/OS 7[^\d]/.test(navigator.appVersion),Ua="matches"in Element.prototype?"matches":"webkitMatchesSelector"in Element.prototype?"webkitMatchesSelector":"mozMatchesSelector"in Element.prototype?"mozMatchesSelector":"oMatchesSelector"in Element.prototype?"oMatchesSelector":"msMatchesSelector",Va=a.requestAnimationFrame,Wa=a.cancelAnimationFrame,Xa=function(){function a(a,b,h,m){var n=ka(j,a),o=k[n];if(o||(o={events:{},typeCount:0},n=j.push(a)-1,k.push(o),l.push(f?{supplied:[],wrapped:[],useCount:[]}:null)),o.events[b]||(o.events[b]=[],o.typeCount++),!la(o.events[b],h)){var p;if(f){var q=l[n],r=ka(q.supplied,h),s=q.wrapped[r]||function(b){b.immediatePropagationStopped||(b.target=b.srcElement,b.currentTarget=a,b.preventDefault=b.preventDefault||c,b.stopPropagation=b.stopPropagation||d,b.stopImmediatePropagation=b.stopImmediatePropagation||e,/mouse|click/.test(b.type)&&(b.pageX=b.clientX+y(a).document.documentElement.scrollLeft,b.pageY=b.clientY+y(a).document.documentElement.scrollTop),h(b))};p=a[g](i+b,s,Boolean(m)),r===-1?(q.supplied.push(h),q.wrapped.push(s),q.useCount.push(1)):q.useCount[r]++}else p=a[g](b,h,m||!1);return o.events[b].push(h),p}}function b(a,c,d,e){var g,m,n,o=ka(j,a),p=k[o],q=d;if(p&&p.events)if(f&&(m=l[o],n=ka(m.supplied,d),q=m.wrapped[n]),"all"!==c){if(p.events[c]){var r=p.events[c].length;if("all"===d){for(g=0;g<r;g++)b(a,c,p.events[c][g],Boolean(e));return}for(g=0;g<r;g++)if(p.events[c][g]===d){a[h](i+c,q,e||!1),p.events[c].splice(g,1),f&&m&&(m.useCount[n]--,0===m.useCount[n]&&(m.supplied.splice(n,1),m.wrapped.splice(n,1),m.useCount.splice(n,1)));break}p.events[c]&&0===p.events[c].length&&(p.events[c]=null,p.typeCount--)}p.typeCount||(k.splice(o,1),j.splice(o,1),l.splice(o,1))}else for(c in p.events)p.events.hasOwnProperty(c)&&b(a,c,"all")}function c(){this.returnValue=!1}function d(){this.cancelBubble=!0}function e(){this.cancelBubble=!0,this.immediatePropagationStopped=!0}var f="attachEvent"in qa&&!("addEventListener"in qa),g=f?"attachEvent":"addEventListener",h=f?"detachEvent":"removeEventListener",i=f?"on":"",j=[],k=[],l=[];return{add:a,remove:b,useAttachEvent:f,_elements:j,_targets:k,_attachedListeners:l}}(),Ya={webkit:/(Movement[XY]|Radius[XY]|RotationAngle|Force)$/};W.prototype={getPageXY:function(a,b){return t(a,b,this)},getClientXY:function(a,b){return u(a,b,this)},setEventXY:function(a,b){return p(a,b,this)},pointerOver:function(a,b,c){function d(a,b){a&&N(a,c)&&!O(a,c,c)&&P(a,c,c)&&ma(c,b)&&(e.push(a),f.push(c))}if(!this.prepared.name&&this.mouse){var e=[],f=[],g=this.element;this.addPointer(a),!this.target||!O(this.target,this.element,c)&&P(this.target,this.element,c)||(this.target=null,this.element=null,this.matches=[],this.matchElements=[]);var h=Ba.get(c),i=h&&!O(h,c,c)&&P(h,c,c)&&ca(h.getAction(a,b,this,c),h);i&&!U(h,c,i)&&(i=null),i?(this.target=h,this.element=c,this.matches=[],this.matchElements=[]):(Ba.forEachSelector(d),this.validateSelector(a,b,e,f)?(this.matches=e,this.matchElements=f,this.pointerHover(a,b,this.matches,this.matchElements),Xa.add(c,Ia?oa.move:"mousemove",Za.pointerHover)):this.target&&(K(g,c)?(this.pointerHover(a,b,this.matches,this.matchElements),Xa.add(this.element,Ia?oa.move:"mousemove",Za.pointerHover)):(this.target=null,this.element=null,this.matches=[],this.matchElements=[])))}},pointerHover:function(a,b,c,d,e,f){var g=this.target;if(!this.prepared.name&&this.mouse){var h;this.setEventXY(this.curCoords,[a]),e?h=this.validateSelector(a,b,e,f):g&&(h=ca(g.getAction(this.pointers[0],b,this,this.element),this.target)),g&&g.options.styleCursor&&(h?g._doc.documentElement.style.cursor=_(h):g._doc.documentElement.style.cursor="")}else this.prepared.name&&this.checkAndPreventDefault(b,g,this.element)},pointerOut:function(a,b,c){this.prepared.name||(Ba.get(c)||Xa.remove(c,Ia?oa.move:"mousemove",Za.pointerHover),this.target&&this.target.options.styleCursor&&!this.interacting()&&(this.target._doc.documentElement.style.cursor=""))},selectorDown:function(a,b,d,e){function f(a,b,c){var e=pa?c.querySelectorAll(b):void 0;N(a,j)&&!O(a,j,d)&&P(a,j,d)&&ma(j,b,e)&&(h.matches.push(a),h.matchElements.push(j))}var g,h=this,i=Xa.useAttachEvent?m({},b):b,j=d,k=this.addPointer(a);if(this.holdTimers[k]=setTimeout(function(){h.pointerHold(Xa.useAttachEvent?i:a,i,d,e)},Fa._holdDuration),this.pointerIsDown=!0,this.inertiaStatus.active&&this.target.selector)for(;c(j);){if(j===this.element&&ca(this.target.getAction(a,b,this,this.element),this.target).name===this.prepared.name)return Wa(this.inertiaStatus.i),this.inertiaStatus.active=!1,void this.collectEventTargets(a,b,d,"down");j=M(j)}if(this.interacting())return void this.collectEventTargets(a,b,d,"down");for(this.setEventXY(this.curCoords,[a]),this.downEvent=b;c(j)&&!g;)this.matches=[],this.matchElements=[],Ba.forEachSelector(f),g=this.validateSelector(a,b,this.matches,this.matchElements),j=M(j);return g?(this.prepared.name=g.name,this.prepared.axis=g.axis,this.prepared.edges=g.edges,this.collectEventTargets(a,b,d,"down"),this.pointerDown(a,b,d,e,g)):(this.downTimes[k]=(new Date).getTime(),this.downTargets[k]=d,n(this.downPointer,a),o(this.prevCoords,this.curCoords),this.pointerWasMoved=!1,void this.collectEventTargets(a,b,d,"down"))},pointerDown:function(a,b,c,d,e){if(!e&&!this.inertiaStatus.active&&this.pointerWasMoved&&this.prepared.name)return void this.checkAndPreventDefault(b,this.target,this.element);this.pointerIsDown=!0,this.downEvent=b;var f,g=this.addPointer(a);if(this.pointerIds.length>1&&this.target._element===this.element){var h=ca(e||this.target.getAction(a,b,this,this.element),this.target);U(this.target,this.element,h)&&(f=h),this.prepared.name=null}else if(!this.prepared.name){var i=Ba.get(d);i&&!O(i,d,c)&&P(i,d,c)&&(f=ca(e||i.getAction(a,b,this,d),i,c))&&U(i,d,f)&&(this.target=i,this.element=d)}var j=this.target,k=j&&j.options;if(!j||!e&&this.prepared.name)this.inertiaStatus.active&&d===this.element&&ca(j.getAction(a,b,this,this.element),j).name===this.prepared.name&&(Wa(this.inertiaStatus.i),this.inertiaStatus.active=!1,this.checkAndPreventDefault(b,j,this.element));else{if(f=f||ca(e||j.getAction(a,b,this,d),j,this.element),this.setEventXY(this.startCoords,this.pointers),!f)return;k.styleCursor&&(j._doc.documentElement.style.cursor=_(f)),this.resizeAxes="resize"===f.name?f.axis:null,"gesture"===f&&this.pointerIds.length<2&&(f=null),this.prepared.name=f.name,this.prepared.axis=f.axis,this.prepared.edges=f.edges,this.snapStatus.snappedX=this.snapStatus.snappedY=this.restrictStatus.restrictedX=this.restrictStatus.restrictedY=NaN,this.downTimes[g]=(new Date).getTime(),this.downTargets[g]=c,n(this.downPointer,a),o(this.prevCoords,this.startCoords),this.pointerWasMoved=!1,this.checkAndPreventDefault(b,j,this.element)}},setModifications:function(a,b){var c=this.target,d=!0,e=R(c,this.prepared.name)&&(!c.options[this.prepared.name].snap.endOnly||b),f=S(c,this.prepared.name)&&(!c.options[this.prepared.name].restrict.endOnly||b);return e?this.setSnapping(a):this.snapStatus.locked=!1,f?this.setRestriction(a):this.restrictStatus.restricted=!1,e&&this.snapStatus.locked&&!this.snapStatus.changed?d=f&&this.restrictStatus.restricted&&this.restrictStatus.changed:f&&this.restrictStatus.restricted&&!this.restrictStatus.changed&&(d=!1),d},setStartOffsets:function(a,b,c){var d,e,f=b.getRect(c),g=G(b,c),h=b.options[this.prepared.name].snap,i=b.options[this.prepared.name].restrict;f?(this.startOffset.left=this.startCoords.page.x-f.left,this.startOffset.top=this.startCoords.page.y-f.top,this.startOffset.right=f.right-this.startCoords.page.x,this.startOffset.bottom=f.bottom-this.startCoords.page.y,d="width"in f?f.width:f.right-f.left,e="height"in f?f.height:f.bottom-f.top):this.startOffset.left=this.startOffset.top=this.startOffset.right=this.startOffset.bottom=0,this.snapOffsets.splice(0);var j=h&&"startCoords"===h.offset?{x:this.startCoords.page.x-g.x,y:this.startCoords.page.y-g.y}:h&&h.offset||{x:0,y:0};if(f&&h&&h.relativePoints&&h.relativePoints.length)for(var k=0;k<h.relativePoints.length;k++)this.snapOffsets.push({x:this.startOffset.left-d*h.relativePoints[k].x+j.x,y:this.startOffset.top-e*h.relativePoints[k].y+j.y});else this.snapOffsets.push(j);f&&i.elementRect?(this.restrictOffset.left=this.startOffset.left-d*i.elementRect.left,this.restrictOffset.top=this.startOffset.top-e*i.elementRect.top,this.restrictOffset.right=this.startOffset.right-d*(1-i.elementRect.right),this.restrictOffset.bottom=this.startOffset.bottom-e*(1-i.elementRect.bottom)):this.restrictOffset.left=this.restrictOffset.top=this.restrictOffset.right=this.restrictOffset.bottom=0},start:function(a,b,c){this.interacting()||!this.pointerIsDown||this.pointerIds.length<("gesture"===a.name?2:1)||(ka(Ca,this)===-1&&Ca.push(this),this.prepared.name||this.setEventXY(this.startCoords,this.pointers),this.prepared.name=a.name,this.prepared.axis=a.axis,this.prepared.edges=a.edges,this.target=b,this.element=c,this.setStartOffsets(a.name,b,c),this.setModifications(this.startCoords.page),this.prevEvent=this[this.prepared.name+"Start"](this.downEvent))},pointerMove:function(a,b,d,e,f){if(this.inertiaStatus.active){var g=this.inertiaStatus.upCoords.page,h=this.inertiaStatus.upCoords.client,i={pageX:g.x+this.inertiaStatus.sx,pageY:g.y+this.inertiaStatus.sy,clientX:h.x+this.inertiaStatus.sx,clientY:h.y+this.inertiaStatus.sy};this.setEventXY(this.curCoords,[i])}else this.recordPointer(a),this.setEventXY(this.curCoords,this.pointers);var j,k,l=this.curCoords.page.x===this.prevCoords.page.x&&this.curCoords.page.y===this.prevCoords.page.y&&this.curCoords.client.x===this.prevCoords.client.x&&this.curCoords.client.y===this.prevCoords.client.y,m=this.mouse?0:ka(this.pointerIds,w(a));if(this.pointerIsDown&&!this.pointerWasMoved&&(j=this.curCoords.client.x-this.startCoords.client.x,k=this.curCoords.client.y-this.startCoords.client.y,this.pointerWasMoved=ya(j,k)>Ka),l||this.pointerIsDown&&!this.pointerWasMoved||(this.pointerIsDown&&clearTimeout(this.holdTimers[m]),this.collectEventTargets(a,b,d,"move")),this.pointerIsDown){if(l&&this.pointerWasMoved&&!f)return void this.checkAndPreventDefault(b,this.target,this.element);if(q(this.pointerDelta,this.prevCoords,this.curCoords),this.prepared.name){if(this.pointerWasMoved&&(!this.inertiaStatus.active||a instanceof Z&&/inertiastart/.test(a.type))){if(!this.interacting()&&(q(this.pointerDelta,this.prevCoords,this.curCoords),"drag"===this.prepared.name)){var n=Math.abs(j),p=Math.abs(k),r=this.target.options.drag.axis,s=n>p?"x":n<p?"y":"xy";if("xy"!==s&&"xy"!==r&&r!==s){this.prepared.name=null;for(var t=d;c(t);){var u=Ba.get(t);if(u&&u!==this.target&&!u.options.drag.manualStart&&"drag"===u.getAction(this.downPointer,this.downEvent,this,t).name&&Q(s,u)){this.prepared.name="drag",this.target=u,this.element=t;break}t=M(t)}if(!this.prepared.name){var v=this,x=function(a,b,c){var e=pa?c.querySelectorAll(b):void 0;if(a!==v.target)return N(a,d)&&!a.options.drag.manualStart&&!O(a,t,d)&&P(a,t,d)&&ma(t,b,e)&&"drag"===a.getAction(v.downPointer,v.downEvent,v,t).name&&Q(s,a)&&U(a,t,"drag")?a:void 0};for(t=d;c(t);){var y=Ba.forEachSelector(x);if(y){this.prepared.name="drag",this.target=y,this.element=t;break}t=M(t)}}}}var z=!!this.prepared.name&&!this.interacting();if(z&&(this.target.options[this.prepared.name].manualStart||!U(this.target,this.element,this.prepared)))return void this.stop(b);
if(this.prepared.name&&this.target){z&&this.start(this.prepared,this.target,this.element);var A=this.setModifications(this.curCoords.page,f);(A||z)&&(this.prevEvent=this[this.prepared.name+"Move"](b)),this.checkAndPreventDefault(b,this.target,this.element)}}o(this.prevCoords,this.curCoords),(this.dragging||this.resizing)&&this.autoScrollMove(a)}}},dragStart:function(a){var b=new Z(this,a,"drag","start",this.element);this.dragging=!0,this.target.fire(b),this.activeDrops.dropzones=[],this.activeDrops.elements=[],this.activeDrops.rects=[],this.dynamicDrop||this.setActiveDrops(this.element);var c=this.getDropEvents(a,b);return c.activate&&this.fireActiveDrops(c.activate),b},dragMove:function(a){var b=this.target,c=new Z(this,a,"drag","move",this.element),d=this.element,e=this.getDrop(c,a,d);this.dropTarget=e.dropzone,this.dropElement=e.element;var f=this.getDropEvents(a,c);return b.fire(c),f.leave&&this.prevDropTarget.fire(f.leave),f.enter&&this.dropTarget.fire(f.enter),f.move&&this.dropTarget.fire(f.move),this.prevDropTarget=this.dropTarget,this.prevDropElement=this.dropElement,c},resizeStart:function(a){var b=new Z(this,a,"resize","start",this.element);if(this.prepared.edges){var c=this.target.getRect(this.element);if(this.target.options.resize.square||this.target.options.resize.preserveAspectRatio){var d=m({},this.prepared.edges);d.top=d.top||d.left&&!d.bottom,d.left=d.left||d.top&&!d.right,d.bottom=d.bottom||d.right&&!d.top,d.right=d.right||d.bottom&&!d.left,this.prepared._linkedEdges=d}else this.prepared._linkedEdges=null;this.target.options.resize.preserveAspectRatio&&(this.resizeStartAspectRatio=c.width/c.height),this.resizeRects={start:c,current:m({},c),restricted:m({},c),previous:m({},c),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},b.rect=this.resizeRects.restricted,b.deltaRect=this.resizeRects.delta}return this.target.fire(b),this.resizing=!0,b},resizeMove:function(a){var b=new Z(this,a,"resize","move",this.element),c=this.prepared.edges,d=this.target.options.resize.invert,e="reposition"===d||"negate"===d;if(c){var f=b.dx,g=b.dy,h=this.resizeRects.start,i=this.resizeRects.current,j=this.resizeRects.restricted,k=this.resizeRects.delta,l=m(this.resizeRects.previous,j),n=c;if(this.target.options.resize.preserveAspectRatio){var o=this.resizeStartAspectRatio;c=this.prepared._linkedEdges,n.left&&n.bottom||n.right&&n.top?g=-f/o:n.left||n.right?g=f/o:(n.top||n.bottom)&&(f=g*o)}else this.target.options.resize.square&&(c=this.prepared._linkedEdges,n.left&&n.bottom||n.right&&n.top?g=-f:n.left||n.right?g=f:(n.top||n.bottom)&&(f=g));if(c.top&&(i.top+=g),c.bottom&&(i.bottom+=g),c.left&&(i.left+=f),c.right&&(i.right+=f),e){if(m(j,i),"reposition"===d){var p;j.top>j.bottom&&(p=j.top,j.top=j.bottom,j.bottom=p),j.left>j.right&&(p=j.left,j.left=j.right,j.right=p)}}else j.top=Math.min(i.top,h.bottom),j.bottom=Math.max(i.bottom,h.top),j.left=Math.min(i.left,h.right),j.right=Math.max(i.right,h.left);j.width=j.right-j.left,j.height=j.bottom-j.top;for(var q in j)k[q]=j[q]-l[q];b.edges=this.prepared.edges,b.rect=j,b.deltaRect=k}return this.target.fire(b),b},gestureStart:function(a){var b=new Z(this,a,"gesture","start",this.element);return b.ds=0,this.gesture.startDistance=this.gesture.prevDistance=b.distance,this.gesture.startAngle=this.gesture.prevAngle=b.angle,this.gesture.scale=1,this.gesturing=!0,this.target.fire(b),b},gestureMove:function(a){if(!this.pointerIds.length)return this.prevEvent;var b;return b=new Z(this,a,"gesture","move",this.element),b.ds=b.scale-this.gesture.scale,this.target.fire(b),this.gesture.prevAngle=b.angle,this.gesture.prevDistance=b.distance,b.scale===1/0||null===b.scale||void 0===b.scale||isNaN(b.scale)||(this.gesture.scale=b.scale),b},pointerHold:function(a,b,c){this.collectEventTargets(a,b,c,"hold")},pointerUp:function(a,b,c,d){var e=this.mouse?0:ka(this.pointerIds,w(a));clearTimeout(this.holdTimers[e]),this.collectEventTargets(a,b,c,"up"),this.collectEventTargets(a,b,c,"tap"),this.pointerEnd(a,b,c,d),this.removePointer(a)},pointerCancel:function(a,b,c,d){var e=this.mouse?0:ka(this.pointerIds,w(a));clearTimeout(this.holdTimers[e]),this.collectEventTargets(a,b,c,"cancel"),this.pointerEnd(a,b,c,d),this.removePointer(a)},ie8Dblclick:function(a,b,c){this.prevTap&&b.clientX===this.prevTap.clientX&&b.clientY===this.prevTap.clientY&&c===this.prevTap.target&&(this.downTargets[0]=c,this.downTimes[0]=(new Date).getTime(),this.collectEventTargets(a,b,c,"tap"))},pointerEnd:function(a,b,c,d){var e,f=this.target,g=f&&f.options,h=g&&this.prepared.name&&g[this.prepared.name].inertia,i=this.inertiaStatus;if(this.interacting()){if(i.active&&!i.ending)return;var j,k,l=(new Date).getTime(),n=!1,p=!1,q=!1,r=R(f,this.prepared.name)&&g[this.prepared.name].snap.endOnly,s=S(f,this.prepared.name)&&g[this.prepared.name].restrict.endOnly,t=0,u=0;if(j=this.dragging?"x"===g.drag.axis?Math.abs(this.pointerDelta.client.vx):"y"===g.drag.axis?Math.abs(this.pointerDelta.client.vy):this.pointerDelta.client.speed:this.pointerDelta.client.speed,n=h&&h.enabled&&"gesture"!==this.prepared.name&&b!==i.startEvent,p=n&&l-this.curCoords.timeStamp<50&&j>h.minSpeed&&j>h.endSpeed,n&&!p&&(r||s)){var v={};v.snap=v.restrict=v,r&&(this.setSnapping(this.curCoords.page,v),v.locked&&(t+=v.dx,u+=v.dy)),s&&(this.setRestriction(this.curCoords.page,v),v.restricted&&(t+=v.dx,u+=v.dy)),(t||u)&&(q=!0)}if(p||q){if(o(i.upCoords,this.curCoords),this.pointers[0]=i.startEvent=k=new Z(this,b,this.prepared.name,"inertiastart",this.element),i.t0=l,f.fire(i.startEvent),p){i.vx0=this.pointerDelta.client.vx,i.vy0=this.pointerDelta.client.vy,i.v0=j,this.calcInertia(i);var w,x=m({},this.curCoords.page),y=G(f,this.element);if(x.x=x.x+i.xe-y.x,x.y=x.y+i.ye-y.y,w={useStatusXY:!0,x:x.x,y:x.y,dx:0,dy:0,snap:null},w.snap=w,t=u=0,r){var z=this.setSnapping(this.curCoords.page,w);z.locked&&(t+=z.dx,u+=z.dy)}if(s){var A=this.setRestriction(this.curCoords.page,w);A.restricted&&(t+=A.dx,u+=A.dy)}i.modifiedXe+=t,i.modifiedYe+=u,i.i=Va(this.boundInertiaFrame)}else i.smoothEnd=!0,i.xe=t,i.ye=u,i.sx=i.sy=0,i.i=Va(this.boundSmoothEndFrame);return void(i.active=!0)}(r||s)&&this.pointerMove(a,b,c,d,!0)}if(this.dragging){e=new Z(this,b,"drag","end",this.element);var B=this.element,C=this.getDrop(e,b,B);this.dropTarget=C.dropzone,this.dropElement=C.element;var D=this.getDropEvents(b,e);D.leave&&this.prevDropTarget.fire(D.leave),D.enter&&this.dropTarget.fire(D.enter),D.drop&&this.dropTarget.fire(D.drop),D.deactivate&&this.fireActiveDrops(D.deactivate),f.fire(e)}else this.resizing?(e=new Z(this,b,"resize","end",this.element),f.fire(e)):this.gesturing&&(e=new Z(this,b,"gesture","end",this.element),f.fire(e));this.stop(b)},collectDrops:function(a){var b,d=[],e=[];for(a=a||this.element,b=0;b<Ba.length;b++)if(Ba[b].options.drop.enabled){var f=Ba[b],g=f.options.drop.accept;if(!(c(g)&&g!==a||k(g)&&!ma(a,g)))for(var h=f.selector?f._context.querySelectorAll(f.selector):[f._element],i=0,j=h.length;i<j;i++){var l=h[i];l!==a&&(d.push(f),e.push(l))}}return{dropzones:d,elements:e}},fireActiveDrops:function(a){var b,c,d,e;for(b=0;b<this.activeDrops.dropzones.length;b++)c=this.activeDrops.dropzones[b],d=this.activeDrops.elements[b],d!==e&&(a.target=d,c.fire(a)),e=d},setActiveDrops:function(a){var b=this.collectDrops(a,!0);this.activeDrops.dropzones=b.dropzones,this.activeDrops.elements=b.elements,this.activeDrops.rects=[];for(var c=0;c<this.activeDrops.dropzones.length;c++)this.activeDrops.rects[c]=this.activeDrops.dropzones[c].getRect(this.activeDrops.elements[c])},getDrop:function(a,b,c){var d=[];Da&&this.setActiveDrops(c);for(var e=0;e<this.activeDrops.dropzones.length;e++){var f=this.activeDrops.dropzones[e],g=this.activeDrops.elements[e],h=this.activeDrops.rects[e];d.push(f.dropCheck(a,b,this.target,c,g,h)?g:null)}var i=V(d),j=this.activeDrops.dropzones[i]||null,k=this.activeDrops.elements[i]||null;return{dropzone:j,element:k}},getDropEvents:function(a,b){var c={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return this.dropElement!==this.prevDropElement&&(this.prevDropTarget&&(c.leave={target:this.prevDropElement,dropzone:this.prevDropTarget,relatedTarget:b.target,draggable:b.interactable,dragEvent:b,interaction:this,timeStamp:b.timeStamp,type:"dragleave"},b.dragLeave=this.prevDropElement,b.prevDropzone=this.prevDropTarget),this.dropTarget&&(c.enter={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:b.target,draggable:b.interactable,dragEvent:b,interaction:this,timeStamp:b.timeStamp,type:"dragenter"},b.dragEnter=this.dropElement,b.dropzone=this.dropTarget)),"dragend"===b.type&&this.dropTarget&&(c.drop={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:b.target,draggable:b.interactable,dragEvent:b,interaction:this,timeStamp:b.timeStamp,type:"drop"},b.dropzone=this.dropTarget),"dragstart"===b.type&&(c.activate={target:null,dropzone:null,relatedTarget:b.target,draggable:b.interactable,dragEvent:b,interaction:this,timeStamp:b.timeStamp,type:"dropactivate"}),"dragend"===b.type&&(c.deactivate={target:null,dropzone:null,relatedTarget:b.target,draggable:b.interactable,dragEvent:b,interaction:this,timeStamp:b.timeStamp,type:"dropdeactivate"}),"dragmove"===b.type&&this.dropTarget&&(c.move={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:b.target,draggable:b.interactable,dragEvent:b,interaction:this,dragmove:b,timeStamp:b.timeStamp,type:"dropmove"},b.dropzone=this.dropTarget),c},currentAction:function(){return this.dragging&&"drag"||this.resizing&&"resize"||this.gesturing&&"gesture"||null},interacting:function(){return this.dragging||this.resizing||this.gesturing},clearTargets:function(){this.target=this.element=null,this.dropTarget=this.dropElement=this.prevDropTarget=this.prevDropElement=null},stop:function(a){if(this.interacting()){Ga.stop(),this.matches=[],this.matchElements=[];var b=this.target;b.options.styleCursor&&(b._doc.documentElement.style.cursor=""),a&&h(a.preventDefault)&&this.checkAndPreventDefault(a,b,this.element),this.dragging&&(this.activeDrops.dropzones=this.activeDrops.elements=this.activeDrops.rects=null)}this.clearTargets(),this.pointerIsDown=this.snapStatus.locked=this.dragging=this.resizing=this.gesturing=!1,this.prepared.name=this.prevEvent=null,this.inertiaStatus.resumeDx=this.inertiaStatus.resumeDy=0;for(var c=0;c<this.pointers.length;c++)ka(this.pointerIds,w(this.pointers[c]))===-1&&this.pointers.splice(c,1)},inertiaFrame:function(){var a=this.inertiaStatus,b=this.target.options[this.prepared.name].inertia,c=b.resistance,d=(new Date).getTime()/1e3-a.t0;if(d<a.te){var e=1-(Math.exp(-c*d)-a.lambda_v0)/a.one_ve_v0;if(a.modifiedXe===a.xe&&a.modifiedYe===a.ye)a.sx=a.xe*e,a.sy=a.ye*e;else{var f=I(0,0,a.xe,a.ye,a.modifiedXe,a.modifiedYe,e);a.sx=f.x,a.sy=f.y}this.pointerMove(a.startEvent,a.startEvent),a.i=Va(this.boundInertiaFrame)}else a.ending=!0,a.sx=a.modifiedXe,a.sy=a.modifiedYe,this.pointerMove(a.startEvent,a.startEvent),this.pointerEnd(a.startEvent,a.startEvent),a.active=a.ending=!1},smoothEndFrame:function(){var a=this.inertiaStatus,b=(new Date).getTime()-a.t0,c=this.target.options[this.prepared.name].inertia.smoothEndDuration;b<c?(a.sx=J(b,0,a.xe,c),a.sy=J(b,0,a.ye,c),this.pointerMove(a.startEvent,a.startEvent),a.i=Va(this.boundSmoothEndFrame)):(a.ending=!0,a.sx=a.xe,a.sy=a.ye,this.pointerMove(a.startEvent,a.startEvent),this.pointerEnd(a.startEvent,a.startEvent),a.smoothEnd=a.active=a.ending=!1)},addPointer:function(a){var b=w(a),c=this.mouse?0:ka(this.pointerIds,b);return c===-1&&(c=this.pointerIds.length),this.pointerIds[c]=b,this.pointers[c]=a,c},removePointer:function(a){var b=w(a),c=this.mouse?0:ka(this.pointerIds,b);c!==-1&&(this.pointers.splice(c,1),this.pointerIds.splice(c,1),this.downTargets.splice(c,1),this.downTimes.splice(c,1),this.holdTimers.splice(c,1))},recordPointer:function(a){var b=this.mouse?0:ka(this.pointerIds,w(a));b!==-1&&(this.pointers[b]=a)},collectEventTargets:function(a,b,d,e){function f(a,b,f){var g=pa?f.querySelectorAll(b):void 0;a._iEvents[e]&&c(j)&&N(a,j)&&!O(a,j,d)&&P(a,j,d)&&ma(j,b,g)&&(h.push(a),i.push(j))}var g=this.mouse?0:ka(this.pointerIds,w(a));if("tap"!==e||!this.pointerWasMoved&&this.downTargets[g]&&this.downTargets[g]===d){for(var h=[],i=[],j=d;j;)fa.isSet(j)&&fa(j)._iEvents[e]&&(h.push(fa(j)),i.push(j)),Ba.forEachSelector(f),j=M(j);(h.length||"tap"===e)&&this.firePointers(a,b,d,h,i,e)}},firePointers:function(a,b,c,d,e,f){var g,h,i,j=this.mouse?0:ka(this.pointerIds,w(a)),l={};for("doubletap"===f?l=a:(n(l,b),b!==a&&n(l,a),l.preventDefault=$,l.stopPropagation=Z.prototype.stopPropagation,l.stopImmediatePropagation=Z.prototype.stopImmediatePropagation,l.interaction=this,l.timeStamp=(new Date).getTime(),l.originalEvent=b,l.originalPointer=a,l.type=f,l.pointerId=w(a),l.pointerType=this.mouse?"mouse":Ia?k(a.pointerType)?a.pointerType:[,,"touch","pen","mouse"][a.pointerType]:"touch"),"tap"===f&&(l.dt=l.timeStamp-this.downTimes[j],h=l.timeStamp-this.tapTime,i=!!(this.prevTap&&"doubletap"!==this.prevTap.type&&this.prevTap.target===l.target&&h<500),l["double"]=i,this.tapTime=l.timeStamp),g=0;g<d.length&&(l.currentTarget=e[g],l.interactable=d[g],d[g].fire(l),!(l.immediatePropagationStopped||l.propagationStopped&&e[g+1]!==l.currentTarget));g++);if(i){var o={};m(o,l),o.dt=h,o.type="doubletap",this.collectEventTargets(o,b,c,"doubletap"),this.prevTap=o}else"tap"===f&&(this.prevTap=l)},validateSelector:function(a,b,c,d){for(var e=0,f=c.length;e<f;e++){var g=c[e],h=d[e],i=ca(g.getAction(a,b,this,h),g);if(i&&U(g,h,i))return this.target=g,this.element=h,i}},setSnapping:function(a,b){var c,d,e,f=this.target.options[this.prepared.name].snap,g=[];if(b=b||this.snapStatus,b.useStatusXY)d={x:b.x,y:b.y};else{var j=G(this.target,this.element);d=m({},a),d.x-=j.x,d.y-=j.y}b.realX=d.x,b.realY=d.y,d.x=d.x-this.inertiaStatus.resumeDx,d.y=d.y-this.inertiaStatus.resumeDy;for(var k=f.targets?f.targets.length:0,l=0;l<this.snapOffsets.length;l++){var n={x:d.x-this.snapOffsets[l].x,y:d.y-this.snapOffsets[l].y};for(e=0;e<k;e++)c=h(f.targets[e])?f.targets[e](n.x,n.y,this):f.targets[e],c&&g.push({x:i(c.x)?c.x+this.snapOffsets[l].x:n.x,y:i(c.y)?c.y+this.snapOffsets[l].y:n.y,range:i(c.range)?c.range:f.range})}var o={target:null,inRange:!1,distance:0,range:0,dx:0,dy:0};for(e=0,k=g.length;e<k;e++){c=g[e];var p=c.range,q=c.x-d.x,r=c.y-d.y,s=ya(q,r),t=s<=p;p===1/0&&o.inRange&&o.range!==1/0&&(t=!1),o.target&&!(t?o.inRange&&p!==1/0?s/p<o.distance/o.range:p===1/0&&o.range!==1/0||s<o.distance:!o.inRange&&s<o.distance)||(p===1/0&&(t=!0),o.target=c,o.distance=s,o.range=p,o.inRange=t,o.dx=q,o.dy=r,b.range=p)}var u;return o.target?(u=b.snappedX!==o.target.x||b.snappedY!==o.target.y,b.snappedX=o.target.x,b.snappedY=o.target.y):(u=!0,b.snappedX=NaN,b.snappedY=NaN),b.dx=o.dx,b.dy=o.dy,b.changed=u||o.inRange&&!b.locked,b.locked=o.inRange,b},setRestriction:function(a,b){var d,e=this.target,f=e&&e.options[this.prepared.name].restrict,g=f&&f.restriction;if(!g)return b;b=b||this.restrictStatus,d=d=b.useStatusXY?{x:b.x,y:b.y}:m({},a),b.snap&&b.snap.locked&&(d.x+=b.snap.dx||0,d.y+=b.snap.dy||0),d.x-=this.inertiaStatus.resumeDx,d.y-=this.inertiaStatus.resumeDy,b.dx=0,b.dy=0,b.restricted=!1;var i,j,l;return k(g)&&(g="parent"===g?M(this.element):"self"===g?e.getRect(this.element):L(this.element,g),!g)?b:(h(g)&&(g=g(d.x,d.y,this.element)),c(g)&&(g=A(g)),i=g,g?"x"in g&&"y"in g?(j=Math.max(Math.min(i.x+i.width-this.restrictOffset.right,d.x),i.x+this.restrictOffset.left),l=Math.max(Math.min(i.y+i.height-this.restrictOffset.bottom,d.y),i.y+this.restrictOffset.top)):(j=Math.max(Math.min(i.right-this.restrictOffset.right,d.x),i.left+this.restrictOffset.left),l=Math.max(Math.min(i.bottom-this.restrictOffset.bottom,d.y),i.top+this.restrictOffset.top)):(j=d.x,l=d.y),b.dx=j-d.x,b.dy=l-d.y,b.changed=b.restrictedX!==j||b.restrictedY!==l,b.restricted=!(!b.dx&&!b.dy),b.restrictedX=j,b.restrictedY=l,b)},checkAndPreventDefault:function(a,b,c){if(b=b||this.target){var d=b.options,e=d.preventDefault;if("auto"===e&&c&&!/^(input|select|textarea)$/i.test(a.target.nodeName)){if(/down|start/i.test(a.type)&&"drag"===this.prepared.name&&"xy"!==d.drag.axis)return;if(d[this.prepared.name]&&d[this.prepared.name].manualStart&&!this.interacting())return;return void a.preventDefault()}return"always"===e?void a.preventDefault():void 0}},calcInertia:function(a){var b=this.target.options[this.prepared.name].inertia,c=b.resistance,d=-Math.log(b.endSpeed/a.v0)/c;a.x0=this.prevEvent.pageX,a.y0=this.prevEvent.pageY,a.t0=a.startEvent.timeStamp/1e3,a.sx=a.sy=0,a.modifiedXe=a.xe=(a.vx0-d)/c,a.modifiedYe=a.ye=(a.vy0-d)/c,a.te=d,a.lambda_v0=c/a.v0,a.one_ve_v0=1-b.endSpeed/a.v0},autoScrollMove:function(a){if(this.interacting()&&T(this.target,this.prepared.name)){if(this.inertiaStatus.active)return void(Ga.x=Ga.y=0);var b,c,e,f,g=this.target.options[this.prepared.name].autoScroll,h=g.container||y(this.element);if(d(h))f=a.clientX<Ga.margin,b=a.clientY<Ga.margin,c=a.clientX>h.innerWidth-Ga.margin,e=a.clientY>h.innerHeight-Ga.margin;else{var i=z(h);f=a.clientX<i.left+Ga.margin,b=a.clientY<i.top+Ga.margin,c=a.clientX>i.right-Ga.margin,e=a.clientY>i.bottom-Ga.margin}Ga.x=c?1:f?-1:0,Ga.y=e?1:b?-1:0,Ga.isScrolling||(Ga.margin=g.margin,Ga.speed=g.speed,Ga.start(this))}},_updateEventTargets:function(a,b){this._eventTarget=a,this._curEventTarget=b}},Z.prototype={preventDefault:b,stopImmediatePropagation:function(){this.immediatePropagationStopped=this.propagationStopped=!0},stopPropagation:function(){this.propagationStopped=!0}};for(var Za={},$a=["dragStart","dragMove","resizeStart","resizeMove","gestureStart","gestureMove","pointerOver","pointerOut","pointerHover","selectorDown","pointerDown","pointerMove","pointerUp","pointerCancel","pointerEnd","addPointer","removePointer","recordPointer","autoScrollMove"],_a=0,ab=$a.length;_a<ab;_a++){var bb=$a[_a];Za[bb]=Y(bb)}Ba.indexOfElement=function(a,b){b=b||ra;for(var c=0;c<this.length;c++){var d=this[c];if(d.selector===a&&d._context===b||!d.selector&&d._element===a)return c}return-1},Ba.get=function(a,b){return this[this.indexOfElement(a,b&&b.context)]},Ba.forEachSelector=function(a){for(var b=0;b<this.length;b++){var c=this[b];if(c.selector){var d=a(c,c.selector,c._context,b,this);if(void 0!==d)return d}}},ga.prototype={setOnEvents:function(a,b){return"drop"===a?(h(b.ondrop)&&(this.ondrop=b.ondrop),h(b.ondropactivate)&&(this.ondropactivate=b.ondropactivate),h(b.ondropdeactivate)&&(this.ondropdeactivate=b.ondropdeactivate),h(b.ondragenter)&&(this.ondragenter=b.ondragenter),h(b.ondragleave)&&(this.ondragleave=b.ondragleave),h(b.ondropmove)&&(this.ondropmove=b.ondropmove)):(a="on"+a,h(b.onstart)&&(this[a+"start"]=b.onstart),h(b.onmove)&&(this[a+"move"]=b.onmove),h(b.onend)&&(this[a+"end"]=b.onend),h(b.oninertiastart)&&(this[a+"inertiastart"]=b.oninertiastart)),this},draggable:function(a){return g(a)?(this.options.drag.enabled=a.enabled!==!1,this.setPerAction("drag",a),this.setOnEvents("drag",a),/^x$|^y$|^xy$/.test(a.axis)?this.options.drag.axis=a.axis:null===a.axis&&delete this.options.drag.axis,this):j(a)?(this.options.drag.enabled=a,this):this.options.drag},setPerAction:function(a,b){for(var c in b)c in Fa[a]&&(g(b[c])?(this.options[a][c]=m(this.options[a][c]||{},b[c]),g(Fa.perAction[c])&&"enabled"in Fa.perAction[c]&&(this.options[a][c].enabled=b[c].enabled!==!1)):j(b[c])&&g(Fa.perAction[c])?this.options[a][c].enabled=b[c]:void 0!==b[c]&&(this.options[a][c]=b[c]))},dropzone:function(a){return g(a)?(this.options.drop.enabled=a.enabled!==!1,this.setOnEvents("drop",a),/^(pointer|center)$/.test(a.overlap)?this.options.drop.overlap=a.overlap:i(a.overlap)&&(this.options.drop.overlap=Math.max(Math.min(1,a.overlap),0)),"accept"in a&&(this.options.drop.accept=a.accept),"checker"in a&&(this.options.drop.checker=a.checker),this):j(a)?(this.options.drop.enabled=a,this):this.options.drop},dropCheck:function(a,b,c,d,e,f){var g=!1;if(!(f=f||this.getRect(e)))return!!this.options.drop.checker&&this.options.drop.checker(a,b,g,this,e,c,d);var h=this.options.drop.overlap;if("pointer"===h){var j,k,l=t(a),m=G(c,d);l.x+=m.x,l.y+=m.y,j=l.x>f.left&&l.x<f.right,k=l.y>f.top&&l.y<f.bottom,g=j&&k}var n=c.getRect(d);if("center"===h){var o=n.left+n.width/2,p=n.top+n.height/2;g=o>=f.left&&o<=f.right&&p>=f.top&&p<=f.bottom}if(i(h)){var q=Math.max(0,Math.min(f.right,n.right)-Math.max(f.left,n.left))*Math.max(0,Math.min(f.bottom,n.bottom)-Math.max(f.top,n.top)),r=q/(n.width*n.height);g=r>=h}return this.options.drop.checker&&(g=this.options.drop.checker(a,b,g,this,e,c,d)),g},dropChecker:function(a){return h(a)?(this.options.drop.checker=a,this):null===a?(delete this.options.getRect,this):this.options.drop.checker},accept:function(a){return c(a)?(this.options.drop.accept=a,this):l(a)?(this.options.drop.accept=a,this):null===a?(delete this.options.drop.accept,this):this.options.drop.accept},resizable:function(a){return g(a)?(this.options.resize.enabled=a.enabled!==!1,this.setPerAction("resize",a),this.setOnEvents("resize",a),/^x$|^y$|^xy$/.test(a.axis)?this.options.resize.axis=a.axis:null===a.axis&&(this.options.resize.axis=Fa.resize.axis),j(a.preserveAspectRatio)?this.options.resize.preserveAspectRatio=a.preserveAspectRatio:j(a.square)&&(this.options.resize.square=a.square),this):j(a)?(this.options.resize.enabled=a,this):this.options.resize},squareResize:function(a){return j(a)?(this.options.resize.square=a,this):null===a?(delete this.options.resize.square,this):this.options.resize.square},gesturable:function(a){return g(a)?(this.options.gesture.enabled=a.enabled!==!1,this.setPerAction("gesture",a),this.setOnEvents("gesture",a),this):j(a)?(this.options.gesture.enabled=a,this):this.options.gesture},autoScroll:function(a){return g(a)?a=m({actions:["drag","resize"]},a):j(a)&&(a={actions:["drag","resize"],enabled:a}),this.setOptions("autoScroll",a)},snap:function(a){var b=this.setOptions("snap",a);return b===this?this:b.drag},setOptions:function(a,b){var c,d=b&&f(b.actions)?b.actions:["drag"];if(g(b)||j(b)){for(c=0;c<d.length;c++){var e=/resize/.test(d[c])?"resize":d[c];if(g(this.options[e])){var h=this.options[e][a];g(b)?(m(h,b),h.enabled=b.enabled!==!1,"snap"===a&&("grid"===h.mode?h.targets=[fa.createSnapGrid(m({offset:h.gridOffset||{x:0,y:0}},h.grid||{}))]:"anchor"===h.mode?h.targets=h.anchors:"path"===h.mode&&(h.targets=h.paths),"elementOrigin"in b&&(h.relativePoints=[b.elementOrigin]))):j(b)&&(h.enabled=b)}}return this}var i={},k=["drag","resize","gesture"];for(c=0;c<k.length;c++)a in Fa[k[c]]&&(i[k[c]]=this.options[k[c]][a]);return i},inertia:function(a){var b=this.setOptions("inertia",a);return b===this?this:b.drag},getAction:function(a,b,c,d){var e=this.defaultActionChecker(a,c,d);return this.options.actionChecker?this.options.actionChecker(a,b,e,this,d,c):e},defaultActionChecker:ba,actionChecker:function(a){return h(a)?(this.options.actionChecker=a,this):null===a?(delete this.options.actionChecker,this):this.options.actionChecker},getRect:function(a){return a=a||this._element,this.selector&&!c(a)&&(a=this._context.querySelector(this.selector)),A(a)},rectChecker:function(a){return h(a)?(this.getRect=a,this):null===a?(delete this.options.getRect,this):this.getRect},styleCursor:function(a){return j(a)?(this.options.styleCursor=a,this):null===a?(delete this.options.styleCursor,this):this.options.styleCursor},preventDefault:function(a){return/^(always|never|auto)$/.test(a)?(this.options.preventDefault=a,this):j(a)?(this.options.preventDefault=a?"always":"never",this):this.options.preventDefault},origin:function(a){return l(a)?(this.options.origin=a,this):g(a)?(this.options.origin=a,this):this.options.origin},deltaSource:function(a){return"page"===a||"client"===a?(this.options.deltaSource=a,this):this.options.deltaSource},restrict:function(a){if(!g(a))return this.setOptions("restrict",a);for(var b,c=["drag","resize","gesture"],d=0;d<c.length;d++){var e=c[d];if(e in a){var f=m({actions:[e],restriction:a[e]},a);b=this.setOptions("restrict",f)}}return b},context:function(){return this._context},_context:ra,ignoreFrom:function(a){return l(a)?(this.options.ignoreFrom=a,this):c(a)?(this.options.ignoreFrom=a,this):this.options.ignoreFrom},allowFrom:function(a){return l(a)?(this.options.allowFrom=a,this):c(a)?(this.options.allowFrom=a,this):this.options.allowFrom},element:function(){return this._element},fire:function(a){if(!a||!a.type||!la(Qa,a.type))return this;var b,c,d,e="on"+a.type,f="";if(a.type in this._iEvents)for(b=this._iEvents[a.type],c=0,d=b.length;c<d&&!a.immediatePropagationStopped;c++)f=b[c].name,b[c](a);if(h(this[e])&&(f=this[e].name,this[e](a)),a.type in Ra&&(b=Ra[a.type]))for(c=0,d=b.length;c<d&&!a.immediatePropagationStopped;c++)f=b[c].name,b[c](a);return this},on:function(a,b,c){var d;if(k(a)&&a.search(" ")!==-1&&(a=a.trim().split(/ +/)),f(a)){for(d=0;d<a.length;d++)this.on(a[d],b,c);return this}if(g(a)){for(var e in a)this.on(e,a[e],b);return this}if("wheel"===a&&(a=Pa),c=!!c,la(Qa,a))a in this._iEvents?this._iEvents[a].push(b):this._iEvents[a]=[b];else if(this.selector){if(!Ea[a])for(Ea[a]={selectors:[],contexts:[],listeners:[]},d=0;d<Aa.length;d++)Xa.add(Aa[d],a,da),Xa.add(Aa[d],a,ea,!0);var h,i=Ea[a];for(h=i.selectors.length-1;h>=0&&(i.selectors[h]!==this.selector||i.contexts[h]!==this._context);h--);h===-1&&(h=i.selectors.length,i.selectors.push(this.selector),i.contexts.push(this._context),i.listeners.push([])),i.listeners[h].push([b,c])}else Xa.add(this._element,a,b,c);return this},off:function(a,b,c){var d;if(k(a)&&a.search(" ")!==-1&&(a=a.trim().split(/ +/)),f(a)){for(d=0;d<a.length;d++)this.off(a[d],b,c);return this}if(g(a)){for(var e in a)this.off(e,a[e],b);return this}var h,i=-1;if(c=!!c,"wheel"===a&&(a=Pa),la(Qa,a))h=this._iEvents[a],h&&(i=ka(h,b))!==-1&&this._iEvents[a].splice(i,1);else if(this.selector){var j=Ea[a],l=!1;if(!j)return this;for(i=j.selectors.length-1;i>=0;i--)if(j.selectors[i]===this.selector&&j.contexts[i]===this._context){var m=j.listeners[i];for(d=m.length-1;d>=0;d--){var n=m[d][0],o=m[d][1];if(n===b&&o===c){m.splice(d,1),m.length||(j.selectors.splice(i,1),j.contexts.splice(i,1),j.listeners.splice(i,1),Xa.remove(this._context,a,da),Xa.remove(this._context,a,ea,!0),j.selectors.length||(Ea[a]=null)),l=!0;break}}if(l)break}}else Xa.remove(this._element,a,b,c);return this},set:function(a){g(a)||(a={}),this.options=m({},Fa.base);var b,c=["drag","drop","resize","gesture"],d=["draggable","dropzone","resizable","gesturable"],e=m(m({},Fa.perAction),a[f]||{});for(b=0;b<c.length;b++){var f=c[b];this.options[f]=m({},Fa[f]),this.setPerAction(f,e),this[d[b]](a[f])}var h=["accept","actionChecker","allowFrom","deltaSource","dropChecker","ignoreFrom","origin","preventDefault","rectChecker","styleCursor"];for(b=0,ab=h.length;b<ab;b++){var i=h[b];this.options[i]=Fa.base[i],i in a&&this[i](a[i])}return this},unset:function(){if(Xa.remove(this._element,"all"),k(this.selector))for(var a in Ea)for(var b=Ea[a],c=0;c<b.selectors.length;c++){b.selectors[c]===this.selector&&b.contexts[c]===this._context&&(b.selectors.splice(c,1),b.contexts.splice(c,1),b.listeners.splice(c,1),b.selectors.length||(Ea[a]=null)),Xa.remove(this._context,a,da),Xa.remove(this._context,a,ea,!0);break}else Xa.remove(this,"all"),this.options.styleCursor&&(this._element.style.cursor="");return this.dropzone(!1),Ba.splice(ka(Ba,this),1),fa}},ga.prototype.snap=ha(ga.prototype.snap,"Interactable#snap is deprecated. See the new documentation for snapping at http://interactjs.io/docs/snapping"),ga.prototype.restrict=ha(ga.prototype.restrict,"Interactable#restrict is deprecated. See the new documentation for resticting at http://interactjs.io/docs/restriction"),ga.prototype.inertia=ha(ga.prototype.inertia,"Interactable#inertia is deprecated. See the new documentation for inertia at http://interactjs.io/docs/inertia"),ga.prototype.autoScroll=ha(ga.prototype.autoScroll,"Interactable#autoScroll is deprecated. See the new documentation for autoScroll at http://interactjs.io/docs/#autoscroll"),ga.prototype.squareResize=ha(ga.prototype.squareResize,"Interactable#squareResize is deprecated. See http://interactjs.io/docs/#resize-square"),ga.prototype.accept=ha(ga.prototype.accept,"Interactable#accept is deprecated. use Interactable#dropzone({ accept: target }) instead"),ga.prototype.dropChecker=ha(ga.prototype.dropChecker,"Interactable#dropChecker is deprecated. use Interactable#dropzone({ dropChecker: checkerFunction }) instead"),ga.prototype.context=ha(ga.prototype.context,"Interactable#context as a method is deprecated. It will soon be a DOM Node instead"),fa.isSet=function(a,b){return Ba.indexOfElement(a,b&&b.context)!==-1},fa.on=function(a,b,c){if(k(a)&&a.search(" ")!==-1&&(a=a.trim().split(/ +/)),f(a)){for(var d=0;d<a.length;d++)fa.on(a[d],b,c);return fa}if(g(a)){for(var e in a)fa.on(e,a[e],b);return fa}return la(Qa,a)?Ra[a]?Ra[a].push(b):Ra[a]=[b]:Xa.add(ra,a,b,c),fa},fa.off=function(a,b,c){if(k(a)&&a.search(" ")!==-1&&(a=a.trim().split(/ +/)),f(a)){for(var d=0;d<a.length;d++)fa.off(a[d],b,c);return fa}if(g(a)){for(var e in a)fa.off(e,a[e],b);return fa}if(la(Qa,a)){var h;a in Ra&&(h=ka(Ra[a],b))!==-1&&Ra[a].splice(h,1)}else Xa.remove(ra,a,b,c);return fa},fa.enableDragging=ha(function(a){return null!==a&&void 0!==a?(Oa.drag=a,fa):Oa.drag},"interact.enableDragging is deprecated and will soon be removed."),fa.enableResizing=ha(function(a){return null!==a&&void 0!==a?(Oa.resize=a,fa):Oa.resize},"interact.enableResizing is deprecated and will soon be removed."),fa.enableGesturing=ha(function(a){return null!==a&&void 0!==a?(Oa.gesture=a,fa):Oa.gesture},"interact.enableGesturing is deprecated and will soon be removed."),fa.eventTypes=Qa,fa.debug=function(){var a=Ca[0]||new W;return{interactions:Ca,target:a.target,dragging:a.dragging,resizing:a.resizing,gesturing:a.gesturing,prepared:a.prepared,matches:a.matches,matchElements:a.matchElements,prevCoords:a.prevCoords,startCoords:a.startCoords,pointerIds:a.pointerIds,pointers:a.pointers,addPointer:Za.addPointer,removePointer:Za.removePointer,recordPointer:Za.recordPointer,snap:a.snapStatus,restrict:a.restrictStatus,inertia:a.inertiaStatus,downTime:a.downTimes[0],downEvent:a.downEvent,downPointer:a.downPointer,prevEvent:a.prevEvent,Interactable:ga,interactables:Ba,pointerIsDown:a.pointerIsDown,defaultOptions:Fa,defaultActionChecker:ba,actionCursors:Na,dragMove:Za.dragMove,resizeMove:Za.resizeMove,gestureMove:Za.gestureMove,pointerUp:Za.pointerUp,pointerDown:Za.pointerDown,pointerMove:Za.pointerMove,pointerHover:Za.pointerHover,eventTypes:Qa,events:Xa,globalEvents:Ra,delegatedEvents:Ea,prefixedPropREs:Ya}},fa.getPointerAverage=C,fa.getTouchBBox=D,fa.getTouchDistance=E,fa.getTouchAngle=F,fa.getElementRect=A,fa.getElementClientRect=z,fa.matchesSelector=ma,fa.closest=L,fa.margin=ha(function(a){return i(a)?(Ja=a,fa):Ja},"interact.margin is deprecated. Use interact(target).resizable({ margin: number }); instead."),fa.supportsTouch=function(){return Ha},fa.supportsPointerEvent=function(){return Ia},fa.stop=function(a){for(var b=Ca.length-1;b>=0;b--)Ca[b].stop(a);return fa},fa.dynamicDrop=function(a){return j(a)?(Da=a,fa):Da},fa.pointerMoveTolerance=function(a){return i(a)?(Ka=a,this):Ka},fa.maxInteractions=function(a){return i(a)?(Ma=a,this):Ma},fa.createSnapGrid=function(a){return function(b,c){var d=0,e=0;g(a.offset)&&(d=a.offset.x,e=a.offset.y);var f=Math.round((b-d)/a.x),h=Math.round((c-e)/a.y),i=f*a.x+d,j=h*a.y+e;return{x:i,y:j,range:a.range}}},ja(ra),Ua in Element.prototype&&h(Element.prototype[Ua])||(pa=function(a,b,c){c=c||a.parentNode.querySelectorAll(b);for(var d=0,e=c.length;d<e;d++)if(c[d]===a)return!0;return!1}),function(){for(var b=0,c=["ms","moz","webkit","o"],d=0;d<c.length&&!a.requestAnimationFrame;++d)Va=a[c[d]+"RequestAnimationFrame"],Wa=a[c[d]+"CancelAnimationFrame"]||a[c[d]+"CancelRequestAnimationFrame"];Va||(Va=function(a){var c=(new Date).getTime(),d=Math.max(0,16-(c-b)),e=setTimeout(function(){a(c+d)},d);return b=c+d,e}),Wa||(Wa=function(a){clearTimeout(a)})}(),"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=fa),
exports.interact=fa):"function"==typeof define&&define.amd?define("interact",function(){return fa}):a.interact=fa}}("undefined"==typeof window?void 0:window);