!function(a){"use strict";var b=a.TinyCore,c=b.Utils,d=b.Module,e={startInstance:function(a,b,c){var e=d.getInstance(a,b);return e||(e=d.getModules()[a].oInstances[b]={oInstance:d.instantiate(a)}),e.bIsStarted||(e.oInstance.onStart(c,b),e.bIsStarted=!0),e.bIsStarted},stopInstance:function(a,b,e){var f=d.getInstance(a,b);return f&&f.oInstance?(f.bIsStarted&&(c.isFunction(f.oInstance.onStop)&&f.oInstance.onStop(),f.bIsStarted=!1),e?(c.isFunction(f.oInstance.onDestroy)&&f.oInstance.onDestroy(),delete d.getModules()[a].oInstances[b],!0):!f.bIsStarted):!1},start:function(a){return function(b,e){var f=d.getModules()[b],g=!1,h=!0;return f&&c.forIn(f.oInstances,function(a,c){g=!0,d.startInstance(b,c,e)||(h=!1)}),g?h:a.apply(d,arguments)}}(d.start),stop:function(a,b){var e=d.getModules(),f=!0;return c.forIn(e[a].oInstances,function(c,e){d.stopInstance(a,e,b)||(f=!1)}),b&&f&&delete e[a],f}};c.extend(d,e)}(this);